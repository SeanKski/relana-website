<!DOCTYPE HTML>
<html>
<title>Relena Wedding</title>
    <body>
        <div style="text-align:center;color: white;">
            <p>They have üíçed : )</p>
        </div>
        <img src="figures/wedding.jpg" alt="Wedding Image">
    </body>
<head>
<link id="icon" rel="icon" type="image/x-icon" href="favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
p {
  text-align: center;
  font-size: 60px;
  margin-top: 0px;
}
</style>

<style>
    img {
      max-width: 100%;
      height: auto;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
</head>

<body style="background-color:black;">
<p id="demo"></p>

<script>
// Set the date we're counting down to
var countDownDate = new Date("Jun 24, 2023 0:0:01").getTime();

// Update the count down every 1 second
var x = setInterval(function() {

  // Get today's date and time
  var now = new Date().getTime();
    
  // Find the distance between now and the count down date
  var distance = now - countDownDate;
    
  // Time calculations for days, hours, minutes and seconds
  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);
    
  // Output the result in an element with id="demo"
  document.getElementById("demo").innerHTML = "Time until üíç:<br>" + days + " days<br>" + hours + " hours<br>" + minutes + " minutes<br>" + seconds + " seconds";
  document.getElementById("demo").style.color = 'white'
  
    
  // If the count down is over, write some text 
  if (distance > 0) {
    clearInterval(x);
    document.getElementById("demo").innerHTML = days + " days<br>" + hours + " hours<br>" + minutes + " minutes<br>" + seconds + " seconds <br>and counting...";
  }
}, 1000);
  

function changeFavicon(text) {
  const canvas = document.createElement('canvas');
  canvas.height = 64;
  canvas.width = 64;
  const ctx = canvas.getContext('2d');
  ctx.font = '32px serif';
  // Change text such that it wraps to a max size of favicon (i.e. 2)
//   wrapped_text = getLines(ctx, text, 2);
  ctx.fillStyle = '#FFFFFF';
  ctx.fillText(text, 0, 32, 64);
  ctx.fillText('days', 0, 64, 64);
  

  const icon = document.getElementById('icon');
  const oldLinks = document.querySelectorAll('icon[rel="shortcut icon"]');
  oldLinks.forEach(e => e.parentNode.removeChild(e));
  icon.id = 'dynamic-favicon';
  icon.rel = 'shortcut icon';
  icon.href = canvas.toDataURL();
  document.head.appendChild(icon);
}

function getLines(ctx, text, maxWidth) {
    var words = text.split(" ");
    var lines = [];
    var currentLine = words[0];

    for (var i = 1; i < words.length; i++) {
        var word = words[i];
        var width = ctx.measureText(currentLine + " " + word).width;
        if (width < maxWidth) {
            currentLine += " " + word;
        } else {
            lines.push(currentLine);
            currentLine = word;
        }
    }
    lines.push(currentLine);
    return lines;
}

var countDownDate = new Date("Jun 24, 2023 0:0:01").getTime();
var now = new Date().getTime();
var days = Math.floor(((countDownDate - now) / (1000 * 60 * 60 * 24)));

changeFavicon(days)
 
</script>


</body>

</html>